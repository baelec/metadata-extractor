package com.drew.metadata.wav

import com.drew.metadata.Directory
import java.util.*

/**
 * Holds basic metadata from Wav files including some ID3 tags
 *
 * @author Payton Garland
 */
class WavDirectory : Directory() {
  override val tagNameMap = Companion.tagNameMap
  companion object {
    const val TAG_FORMAT = 1
    const val TAG_CHANNELS = 2
    const val TAG_SAMPLES_PER_SEC = 3
    const val TAG_BYTES_PER_SEC = 4
    const val TAG_BLOCK_ALIGNMENT = 5
    const val TAG_BITS_PER_SAMPLE = 6
    const val TAG_ARTIST = 7
    const val TAG_TITLE = 8
    const val TAG_PRODUCT = 9
    const val TAG_TRACK_NUMBER = 10
    const val TAG_DATE_CREATED = 11
    const val TAG_GENRE = 12
    const val TAG_COMMENTS = 13
    const val TAG_COPYRIGHT = 14
    const val TAG_SOFTWARE = 15
    const val TAG_DURATION = 16
    const val CHUNK_FORMAT = "fmt "
    const val CHUNK_DATA = "data"
    const val LIST_INFO = "INFO"
    const val FORMAT = "WAVE"
    protected val tagNameMap = HashMap<Int, String>()
    @Transient
    val _tagIntegerMap = HashMap<String, Int>()
    @Transient
    val _audioEncodingMap = HashMap<Int, String>()

    init {
      _tagIntegerMap["IART"] = TAG_ARTIST
      _tagIntegerMap["INAM"] = TAG_TITLE
      _tagIntegerMap["IPRD"] = TAG_PRODUCT
      _tagIntegerMap["ITRK"] = TAG_TRACK_NUMBER
      _tagIntegerMap["ICRD"] = TAG_DATE_CREATED
      _tagIntegerMap["IGNR"] = TAG_GENRE
      _tagIntegerMap["ICMT"] = TAG_COMMENTS
      _tagIntegerMap["ICOP"] = TAG_COPYRIGHT
      _tagIntegerMap["ISFT"] = TAG_SOFTWARE
      tagNameMap[TAG_FORMAT] = "Format"
      tagNameMap[TAG_CHANNELS] = "Channels"
      tagNameMap[TAG_SAMPLES_PER_SEC] = "Samples Per Second"
      tagNameMap[TAG_BYTES_PER_SEC] = "Bytes Per Second"
      tagNameMap[TAG_BLOCK_ALIGNMENT] = "Block Alignment"
      tagNameMap[TAG_BITS_PER_SAMPLE] = "Bits Per Sample"
      tagNameMap[TAG_ARTIST] = "Artist"
      tagNameMap[TAG_TITLE] = "Title"
      tagNameMap[TAG_PRODUCT] = "Product"
      tagNameMap[TAG_TRACK_NUMBER] = "Track Number"
      tagNameMap[TAG_DATE_CREATED] = "Date Created"
      tagNameMap[TAG_GENRE] = "Genre"
      tagNameMap[TAG_COMMENTS] = "Comments"
      tagNameMap[TAG_COPYRIGHT] = "Copyright"
      tagNameMap[TAG_SOFTWARE] = "Software"
      tagNameMap[TAG_DURATION] = "Duration"
      // Audio encoding tags from http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/RIFF.html#AudioEncoding
      _audioEncodingMap[0x1] = "Microsoft PCM"
      _audioEncodingMap[0x2] = "Microsoft ADPCM"
      _audioEncodingMap[0x3] = "Microsoft IEEE float"
      _audioEncodingMap[0x4] = "Compaq VSELP"
      _audioEncodingMap[0x5] = "IBM CVSD"
      _audioEncodingMap[0x6] = "Microsoft a-Law"
      _audioEncodingMap[0x7] = "Microsoft u-Law"
      _audioEncodingMap[0x8] = "Microsoft DTS"
      _audioEncodingMap[0x9] = "DRM"
      _audioEncodingMap[0xa] = "WMA 9 Speech"
      _audioEncodingMap[0xb] = "Microsoft Windows Media RT Voice"
      _audioEncodingMap[0x10] = "OKI-ADPCM"
      _audioEncodingMap[0x11] = "Intel IMA/DVI-ADPCM"
      _audioEncodingMap[0x12] = "Videologic Mediaspace ADPCM"
      _audioEncodingMap[0x13] = "Sierra ADPCM"
      _audioEncodingMap[0x14] = "Antex G.723 ADPCM"
      _audioEncodingMap[0x15] = "DSP Solutions DIGISTD"
      _audioEncodingMap[0x16] = "DSP Solutions DIGIFIX"
      _audioEncodingMap[0x17] = "Dialoic OKI ADPCM"
      _audioEncodingMap[0x18] = "Media Vision ADPCM"
      _audioEncodingMap[0x19] = "HP CU"
      _audioEncodingMap[0x1a] = "HP Dynamic Voice"
      _audioEncodingMap[0x20] = "Yamaha ADPCM"
      _audioEncodingMap[0x21] = "SONARC Speech Compression"
      _audioEncodingMap[0x22] = "DSP Group True Speech"
      _audioEncodingMap[0x23] = "Echo Speech Corp."
      _audioEncodingMap[0x24] = "Virtual Music Audiofile AF36"
      _audioEncodingMap[0x25] = "Audio Processing Tech."
      _audioEncodingMap[0x26] = "Virtual Music Audiofile AF10"
      _audioEncodingMap[0x27] = "Aculab Prosody 1612"
      _audioEncodingMap[0x28] = "Merging Tech. LRC"
      _audioEncodingMap[0x30] = "Dolby AC2"
      _audioEncodingMap[0x31] = "Microsoft GSM610"
      _audioEncodingMap[0x32] = "MSN Audio"
      _audioEncodingMap[0x33] = "Antex ADPCME"
      _audioEncodingMap[0x34] = "Control Resources VQLPC"
      _audioEncodingMap[0x35] = "DSP Solutions DIGIREAL"
      _audioEncodingMap[0x36] = "DSP Solutions DIGIADPCM"
      _audioEncodingMap[0x37] = "Control Resources CR10"
      _audioEncodingMap[0x38] = "Natural MicroSystems VBX ADPCM"
      _audioEncodingMap[0x39] = "Crystal Semiconductor IMA ADPCM"
      _audioEncodingMap[0x3a] = "Echo Speech ECHOSC3"
      _audioEncodingMap[0x3b] = "Rockwell ADPCM"
      _audioEncodingMap[0x3c] = "Rockwell DIGITALK"
      _audioEncodingMap[0x3d] = "Xebec Multimedia"
      _audioEncodingMap[0x40] = "Antex G.721 ADPCM"
      _audioEncodingMap[0x41] = "Antex G.728 CELP"
      _audioEncodingMap[0x42] = "Microsoft MSG723"
      _audioEncodingMap[0x43] = "IBM AVC ADPCM"
      _audioEncodingMap[0x45] = "ITU-T G.726"
      _audioEncodingMap[0x50] = "Microsoft MPEG"
      _audioEncodingMap[0x51] = "RT23 or PAC"
      _audioEncodingMap[0x52] = "InSoft RT24"
      _audioEncodingMap[0x53] = "InSoft PAC"
      _audioEncodingMap[0x55] = "MP3"
      _audioEncodingMap[0x59] = "Cirrus"
      _audioEncodingMap[0x60] = "Cirrus Logic"
      _audioEncodingMap[0x61] = "ESS Tech. PCM"
      _audioEncodingMap[0x62] = "Voxware Inc."
      _audioEncodingMap[0x63] = "Canopus ATRAC"
      _audioEncodingMap[0x64] = "APICOM G.726 ADPCM"
      _audioEncodingMap[0x65] = "APICOM G.722 ADPCM"
      _audioEncodingMap[0x66] = "Microsoft DSAT"
      _audioEncodingMap[0x67] = "Micorsoft DSAT DISPLAY"
      _audioEncodingMap[0x69] = "Voxware Byte Aligned"
      _audioEncodingMap[0x70] = "Voxware AC8"
      _audioEncodingMap[0x71] = "Voxware AC10"
      _audioEncodingMap[0x72] = "Voxware AC16"
      _audioEncodingMap[0x73] = "Voxware AC20"
      _audioEncodingMap[0x74] = "Voxware MetaVoice"
      _audioEncodingMap[0x75] = "Voxware MetaSound"
      _audioEncodingMap[0x76] = "Voxware RT29HW"
      _audioEncodingMap[0x77] = "Voxware VR12"
      _audioEncodingMap[0x78] = "Voxware VR18"
      _audioEncodingMap[0x79] = "Voxware TQ40"
      _audioEncodingMap[0x7a] = "Voxware SC3"
      _audioEncodingMap[0x7b] = "Voxware SC3"
      _audioEncodingMap[0x80] = "Soundsoft"
      _audioEncodingMap[0x81] = "Voxware TQ60"
      _audioEncodingMap[0x82] = "Microsoft MSRT24"
      _audioEncodingMap[0x83] = "AT&T G.729A"
      _audioEncodingMap[0x84] = "Motion Pixels MVI MV12"
      _audioEncodingMap[0x85] = "DataFusion G.726"
      _audioEncodingMap[0x86] = "DataFusion GSM610"
      _audioEncodingMap[0x88] = "Iterated Systems Audio"
      _audioEncodingMap[0x89] = "Onlive"
      _audioEncodingMap[0x8a] = "Multitude, Inc. FT SX20"
      _audioEncodingMap[0x8b] = "Infocom ITS A/S G.721 ADPCM"
      _audioEncodingMap[0x8c] = "Convedia G729"
      _audioEncodingMap[0x8d] = "Not specified congruency, Inc."
      _audioEncodingMap[0x91] = "Siemens SBC24"
      _audioEncodingMap[0x92] = "Sonic Foundry Dolby AC3 APDIF"
      _audioEncodingMap[0x93] = "MediaSonic G.723"
      _audioEncodingMap[0x94] = "Aculab Prosody 8kbps"
      _audioEncodingMap[0x97] = "ZyXEL ADPCM"
      _audioEncodingMap[0x98] = "Philips LPCBB"
      _audioEncodingMap[0x99] = "Studer Professional Audio Packed"
      _audioEncodingMap[0xa0] = "Malden PhonyTalk"
      _audioEncodingMap[0xa1] = "Racal Recorder GSM"
      _audioEncodingMap[0xa2] = "Racal Recorder G720.a"
      _audioEncodingMap[0xa3] = "Racal G723.1"
      _audioEncodingMap[0xa4] = "Racal Tetra ACELP"
      _audioEncodingMap[0xb0] = "NEC AAC NEC Corporation"
      _audioEncodingMap[0xff] = "AAC"
      _audioEncodingMap[0x100] = "Rhetorex ADPCM"
      _audioEncodingMap[0x101] = "IBM u-Law"
      _audioEncodingMap[0x102] = "IBM a-Law"
      _audioEncodingMap[0x103] = "IBM ADPCM"
      _audioEncodingMap[0x111] = "Vivo G.723"
      _audioEncodingMap[0x112] = "Vivo Siren"
      _audioEncodingMap[0x120] = "Philips Speech Processing CELP"
      _audioEncodingMap[0x121] = "Philips Speech Processing GRUNDIG"
      _audioEncodingMap[0x123] = "Digital G.723"
      _audioEncodingMap[0x125] = "Sanyo LD ADPCM"
      _audioEncodingMap[0x130] = "Sipro Lab ACEPLNET"
      _audioEncodingMap[0x131] = "Sipro Lab ACELP4800"
      _audioEncodingMap[0x132] = "Sipro Lab ACELP8V3"
      _audioEncodingMap[0x133] = "Sipro Lab G.729"
      _audioEncodingMap[0x134] = "Sipro Lab G.729A"
      _audioEncodingMap[0x135] = "Sipro Lab Kelvin"
      _audioEncodingMap[0x136] = "VoiceAge AMR"
      _audioEncodingMap[0x140] = "Dictaphone G.726 ADPCM"
      _audioEncodingMap[0x150] = "Qualcomm PureVoice"
      _audioEncodingMap[0x151] = "Qualcomm HalfRate"
      _audioEncodingMap[0x155] = "Ring Zero Systems TUBGSM"
      _audioEncodingMap[0x160] = "Microsoft Audio1"
      _audioEncodingMap[0x161] = "Windows Media Audio V2 V7 V8 V9 / DivX audio (WMA) / Alex AC3 Audio"
      _audioEncodingMap[0x162] = "Windows Media Audio Professional V9"
      _audioEncodingMap[0x163] = "Windows Media Audio Lossless V9"
      _audioEncodingMap[0x164] = "WMA Pro over S/PDIF"
      _audioEncodingMap[0x170] = "UNISYS NAP ADPCM"
      _audioEncodingMap[0x171] = "UNISYS NAP ULAW"
      _audioEncodingMap[0x172] = "UNISYS NAP ALAW"
      _audioEncodingMap[0x173] = "UNISYS NAP 16K"
      _audioEncodingMap[0x174] = "MM SYCOM ACM SYC008 SyCom Technologies"
      _audioEncodingMap[0x175] = "MM SYCOM ACM SYC701 G726L SyCom Technologies"
      _audioEncodingMap[0x176] = "MM SYCOM ACM SYC701 CELP54 SyCom Technologies"
      _audioEncodingMap[0x177] = "MM SYCOM ACM SYC701 CELP68 SyCom Technologies"
      _audioEncodingMap[0x178] = "Knowledge Adventure ADPCM"
      _audioEncodingMap[0x180] = "Fraunhofer IIS MPEG2AAC"
      _audioEncodingMap[0x190] = "Digital Theater Systems DTS DS"
      _audioEncodingMap[0x200] = "Creative Labs ADPCM"
      _audioEncodingMap[0x202] = "Creative Labs FASTSPEECH8"
      _audioEncodingMap[0x203] = "Creative Labs FASTSPEECH10"
      _audioEncodingMap[0x210] = "UHER ADPCM"
      _audioEncodingMap[0x215] = "Ulead DV ACM"
      _audioEncodingMap[0x216] = "Ulead DV ACM"
      _audioEncodingMap[0x220] = "Quarterdeck Corp."
      _audioEncodingMap[0x230] = "I-Link VC"
      _audioEncodingMap[0x240] = "Aureal Semiconductor Raw Sport"
      _audioEncodingMap[0x241] = "ESST AC3"
      _audioEncodingMap[0x250] = "Interactive Products HSX"
      _audioEncodingMap[0x251] = "Interactive Products RPELP"
      _audioEncodingMap[0x260] = "Consistent CS2"
      _audioEncodingMap[0x270] = "Sony SCX"
      _audioEncodingMap[0x271] = "Sony SCY"
      _audioEncodingMap[0x272] = "Sony ATRAC3"
      _audioEncodingMap[0x273] = "Sony SPC"
      _audioEncodingMap[0x280] = "TELUM Telum Inc."
      _audioEncodingMap[0x281] = "TELUMIA Telum Inc."
      _audioEncodingMap[0x285] = "Norcom Voice Systems ADPCM"
      _audioEncodingMap[0x300] = "Fujitsu FM TOWNS SND"
      _audioEncodingMap[0x301] = "Fujitsu (not specified)"
      _audioEncodingMap[0x302] = "Fujitsu (not specified)"
      _audioEncodingMap[0x303] = "Fujitsu (not specified)"
      _audioEncodingMap[0x304] = "Fujitsu (not specified)"
      _audioEncodingMap[0x305] = "Fujitsu (not specified)"
      _audioEncodingMap[0x306] = "Fujitsu (not specified)"
      _audioEncodingMap[0x307] = "Fujitsu (not specified)"
      _audioEncodingMap[0x308] = "Fujitsu (not specified)"
      _audioEncodingMap[0x350] = "Micronas Semiconductors, Inc. Development"
      _audioEncodingMap[0x351] = "Micronas Semiconductors, Inc. CELP833"
      _audioEncodingMap[0x400] = "Brooktree Digital"
      _audioEncodingMap[0x401] = "Intel Music Coder (IMC)"
      _audioEncodingMap[0x402] = "Ligos Indeo Audio"
      _audioEncodingMap[0x450] = "QDesign Music"
      _audioEncodingMap[0x500] = "On2 VP7 On2 Technologies"
      _audioEncodingMap[0x501] = "On2 VP6 On2 Technologies"
      _audioEncodingMap[0x680] = "AT&T VME VMPCM"
      _audioEncodingMap[0x681] = "AT&T TCP"
      _audioEncodingMap[0x700] = "YMPEG Alpha (dummy for MPEG-2 compressor)"
      _audioEncodingMap[0x8ae] = "ClearJump LiteWave (lossless)"
      _audioEncodingMap[0x1000] = "Olivetti GSM"
      _audioEncodingMap[0x1001] = "Olivetti ADPCM"
      _audioEncodingMap[0x1002] = "Olivetti CELP"
      _audioEncodingMap[0x1003] = "Olivetti SBC"
      _audioEncodingMap[0x1004] = "Olivetti OPR"
      _audioEncodingMap[0x1100] = "Lernout & Hauspie"
      _audioEncodingMap[0x1101] = "Lernout & Hauspie CELP codec"
      _audioEncodingMap[0x1102] = "Lernout & Hauspie SBC codec"
      _audioEncodingMap[0x1103] = "Lernout & Hauspie SBC codec"
      _audioEncodingMap[0x1104] = "Lernout & Hauspie SBC codec"
      _audioEncodingMap[0x1400] = "Norris Comm. Inc."
      _audioEncodingMap[0x1401] = "ISIAudio"
      _audioEncodingMap[0x1500] = "AT&T Soundspace Music Compression"
      _audioEncodingMap[0x181c] = "VoxWare RT24 speech codec"
      _audioEncodingMap[0x181e] = "Lucent elemedia AX24000P Music codec"
      _audioEncodingMap[0x1971] = "Sonic Foundry LOSSLESS"
      _audioEncodingMap[0x1979] = "Innings Telecom Inc. ADPCM"
      _audioEncodingMap[0x1c07] = "Lucent SX8300P speech codec"
      _audioEncodingMap[0x1c0c] = "Lucent SX5363S G.723 compliant codec"
      _audioEncodingMap[0x1f03] = "CUseeMe DigiTalk (ex-Rocwell)"
      _audioEncodingMap[0x1fc4] = "NCT Soft ALF2CD ACM"
      _audioEncodingMap[0x2000] = "FAST Multimedia DVM"
      _audioEncodingMap[0x2001] = "Dolby DTS (Digital Theater System)"
      _audioEncodingMap[0x2002] = "RealAudio 1 / 2 14.4"
      _audioEncodingMap[0x2003] = "RealAudio 1 / 2 28.8"
      _audioEncodingMap[0x2004] = "RealAudio G2 / 8 Cook (low bitrate)"
      _audioEncodingMap[0x2005] = "RealAudio 3 / 4 / 5 Music (DNET)"
      _audioEncodingMap[0x2006] = "RealAudio 10 AAC (RAAC)"
      _audioEncodingMap[0x2007] = "RealAudio 10 AAC+ (RACP)"
      _audioEncodingMap[0x2500] = "Reserved range to 0x2600 Microsoft"
      _audioEncodingMap[0x3313] = "makeAVIS (ffvfw fake AVI sound from AviSynth scripts)"
      _audioEncodingMap[0x4143] = "Divio MPEG-4 AAC audio"
      _audioEncodingMap[0x4201] = "Nokia adaptive multirate"
      _audioEncodingMap[0x4243] = "Divio G726 Divio, Inc."
      _audioEncodingMap[0x434c] = "LEAD Speech"
      _audioEncodingMap[0x564c] = "LEAD Vorbis"
      _audioEncodingMap[0x5756] = "WavPack Audio"
      _audioEncodingMap[0x674f] = "Ogg Vorbis (mode 1)"
      _audioEncodingMap[0x6750] = "Ogg Vorbis (mode 2)"
      _audioEncodingMap[0x6751] = "Ogg Vorbis (mode 3)"
      _audioEncodingMap[0x676f] = "Ogg Vorbis (mode 1+)"
      _audioEncodingMap[0x6770] = "Ogg Vorbis (mode 2+)"
      _audioEncodingMap[0x6771] = "Ogg Vorbis (mode 3+)"
      _audioEncodingMap[0x7000] = "3COM NBX 3Com Corporation"
      _audioEncodingMap[0x706d] = "FAAD AAC"
      _audioEncodingMap[0x7a21] = "GSM-AMR (CBR, no SID)"
      _audioEncodingMap[0x7a22] = "GSM-AMR (VBR, including SID)"
      _audioEncodingMap[0xa100] = "Comverse Infosys Ltd. G723 1"
      _audioEncodingMap[0xa101] = "Comverse Infosys Ltd. AVQSBC"
      _audioEncodingMap[0xa102] = "Comverse Infosys Ltd. OLDSBC"
      _audioEncodingMap[0xa103] = "Symbol Technologies G729A"
      _audioEncodingMap[0xa104] = "VoiceAge AMR WB VoiceAge Corporation"
      _audioEncodingMap[0xa105] = "Ingenient Technologies Inc. G726"
      _audioEncodingMap[0xa106] = "ISO/MPEG-4 advanced audio Coding"
      _audioEncodingMap[0xa107] = "Encore Software Ltd G726"
      _audioEncodingMap[0xa109] = "Speex ACM Codec xiph.org"
      _audioEncodingMap[0xdfac] = "DebugMode SonicFoundry Vegas FrameServer ACM Codec"
      _audioEncodingMap[0xe708] = "Unknown -"
      _audioEncodingMap[0xf1ac] = "Free Lossless Audio Codec FLAC"
      _audioEncodingMap[0xfffe] = "Extensible"
      _audioEncodingMap[0xffff] = "Development"
    }
  }

  override val name: String
    get() = "WAV"

  init {
    setDescriptor(WavDescriptor(this))
  }
}
